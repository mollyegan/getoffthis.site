<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>getoffthis.site</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/assets/style.css">
</head>
<body>

<header class="site-header">
  <a class="logo-link" href="/">
    <span class="logo-text">getoffthis.site</span>
  </a>
</header>

<main class="site-main calculator-only">

  <section class="screen-time-calculator">
    <h2>Lifetime Screen Time Calculator</h2>

    <label for="dailyHours">Average Daily Screen Time (hours):</label>
    <input type="number" id="dailyHours" min="0" step="0.1" placeholder="e.g. 6" />

    <button id="calcBtn">Calculate</button>

    <p id="result" aria-live="polite"></p>
  </section>

</main>

<script>
// AUTO-REDIRECT IF USER ALREADY CALCULATED BEFORE
const storedYears = localStorage.getItem("calculatedYears");
if (storedYears !== null) {
    window.location.href = "/revolution.html";
}

// CALCULATOR LOGIC
document.getElementById("calcBtn").addEventListener("click", calculateLifetime);

function calculateLifetime() {
    const input = document.getElementById("dailyHours").value;
    const dailyHours = parseFloat(input);

    if (isNaN(dailyHours) || dailyHours < 0) {
        document.getElementById("result").textContent = "Please enter a valid non-negative number.";
        return;
    }

    const totalHours = dailyHours * 365 * 85;
    const years = totalHours / (24 * 365);
    const roundedYears = Number(years.toFixed(2));

    // Save to localStorage
    localStorage.setItem("calculatedYears", roundedYears);

    // Redirect to revolution page
    window.location.href = "/revolution.html";
}
</script>

</body>
</html>
